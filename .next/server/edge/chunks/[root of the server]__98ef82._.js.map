{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport connectMongo from '@/lib/db';\nimport Session from '@/models/Session';\n\nexport async function middleware(req: NextRequest) {\n  const sessionToken = req.cookies.get('sessionToken')?.value;\n\n  if (!sessionToken) {\n    return NextResponse.redirect(new URL('/login', req.url));\n  }\n\n  await connectMongo();\n\n  // Validate session in MongoDB\n  const session = await Session.findOne({ session_token: sessionToken });\n\n  if (!session || new Date() > new Date(session.expires_at)) {\n    return NextResponse.redirect(new URL('/login', req.url));\n  }\n\n  return NextResponse.next();\n}\n\nexport const config = {\n  matcher: ['/protected/:path*'], // Apply middleware to protected routes\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;AADA;;;;AAIO,eAAe,WAAW,GAAgB;IAC/C,MAAM,eAAe,IAAI,OAAO,CAAC,GAAG,CAAC,iBAAiB;IAEtD,IAAI,CAAC,cAAc;QACjB,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;IACxD;IAEA,MAAM,CAAA,GAAA,gHAAA,CAAA,UAAY,AAAD;IAEjB,8BAA8B;IAC9B,MAAM,UAAU,MAAM,QAAQ,OAAO,CAAC;QAAE,eAAe;IAAa;IAEpE,IAAI,CAAC,WAAW,IAAI,SAAS,IAAI,KAAK,QAAQ,UAAU,GAAG;QACzD,OAAO,qLAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,IAAI,GAAG;IACxD;IAEA,OAAO,qLAAA,CAAA,eAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAoB;AAChC"}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}